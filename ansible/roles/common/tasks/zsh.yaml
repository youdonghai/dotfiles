# vim:ft=ansible:
---

- name: install zsh
  become: true
  package:
    name: zsh
    state: present

- name: clone oh-my-zsh repo
  git:
    repo: https://github.com/robbyrussell/oh-my-zsh.git
    dest: "{{ ansible_env.HOME }}/.oh-my-zsh"

- name: install my zsh theme
  copy:
    src: files/donghai.zsh-theme
    dest: "{{ ansible_env.HOME }}/.oh-my-zsh/themes/donghai.zsh-theme"
    mode: 0644
    owner: "{{ ansible_user }}"

- name: install zshrc
  copy:
    src: files/zshrc
    dest: "{{ ansible_env.HOME }}/.zshrc"
    mode: 0644
    owner: "{{ ansible_user }}"

- name: set zsh as default shell
  copy:
    src: files/profile
    dest: "{{ ansible_env.HOME }}/.profile"
    mode: 0644
    owner: "{{ ansible_user }}"


